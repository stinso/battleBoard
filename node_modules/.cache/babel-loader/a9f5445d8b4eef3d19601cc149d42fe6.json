{"ast":null,"code":"import { BaseApiURLBS, BaseApiURLCS, CoinGeckoAPIURL, CookieName } from \"./constants\";\nimport ax from \"axios\";\nimport Cookies from \"js-cookie\";\nexport const nodeAxios = ax.create({\n  baseURL: `${BaseApiURLBS}`,\n  headers: {\n    common: {\n      \"Content-Type\": \"application/json\"\n    }\n  },\n  timeout: 50000\n});\nexport const axiosCoinGecko = ax.create({\n  baseURL: `${CoinGeckoAPIURL}`,\n  timeout: 50000\n});\nexport const nodeAxiosWithCredentials = ax.create({\n  baseURL: `${BaseApiURLBS}`,\n  headers: {\n    common: {\n      \"Content-Type\": \"application/json\"\n    }\n  },\n  withCredentials: true,\n  timeout: 50000\n});\nexport const nodeAxiosWithCredentialsCentralServer = ax.create({\n  baseURL: `${BaseApiURLCS}`,\n  headers: {\n    common: {\n      \"Content-Type\": \"application/json\"\n    }\n  },\n  withCredentials: true,\n  timeout: 50000\n});\nexport const nodeAxiosForXbox = ax.create({\n  baseURL: `${BaseApiURLBS}`,\n  headers: {\n    common: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      Accept: \"application/json\",\n      Host: \"login.live.com\",\n      verify: \"False\",\n      \"Access-Control-Allow-Origin\": '*'\n    }\n  }\n});\nexport const nodeAxiosForXboxUserName = ax.create({\n  baseURL: `${BaseApiURLBS}`,\n  timeout: 50000\n});\nexport const formDataAxiosService = ax.create({\n  baseURL: `${BaseApiURLBS}`,\n  headers: {\n    'content-type': 'multipart/form-data'\n  },\n  withCredentials: true,\n  timeout: 50000\n});\nexport const formDataAxiosServiceCentralServer = ax.create({\n  baseURL: `${BaseApiURLCS}`,\n  headers: {\n    'content-type': 'multipart/form-data'\n  },\n  withCredentials: true,\n  timeout: 50000\n}); //In case we get 401 from server logout the user and redirect to login middleware\n\nnodeAxiosWithCredentials.interceptors.response.use(res => res, err => {\n  var _err$response, _err$response2;\n\n  if ((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n    console.log(\"config->err->here\", err);\n    logout();\n  } else if ((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 500) {\n    Sentry.captureException(err, {\n      tags: {\n        page: \"500\",\n        occuredAt: \"file: axios.js ~ line 87 ~ nodeAxiosWithCredentials interceptors\"\n      }\n    });\n  }\n\n  throw err;\n});\nformDataAxiosService.interceptors.response.use(res => res, err => {\n  var _err$response3, _err$response4;\n\n  if ((err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) === 401) {\n    console.log(\"config->err->here\", err);\n    logout();\n  } else if ((err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 500) {\n    Sentry.captureException(err, {\n      tags: {\n        page: \"500\",\n        occuredAt: \"file: axios.js ~ line 107 ~ formDataAxiosService interceptors\"\n      }\n    });\n  }\n\n  throw err;\n});\nformDataAxiosServiceCentralServer.interceptors.response.use(res => res, err => {\n  var _err$response5, _err$response6;\n\n  if ((err === null || err === void 0 ? void 0 : (_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.status) === 401) {\n    console.log(\"config->err->here\", err);\n    logout();\n  } else if ((err === null || err === void 0 ? void 0 : (_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : _err$response6.status) === 500) {\n    Sentry.captureException(err, {\n      tags: {\n        page: \"500\",\n        occuredAt: \"file: axios.js ~ line 126 ~ formDataAxiosServiceCentralServer interceptors\"\n      }\n    });\n  }\n\n  throw err;\n});\nnodeAxiosWithCredentialsCentralServer.interceptors.response.use(res => res, err => {\n  var _err$response7, _err$response8;\n\n  if ((err === null || err === void 0 ? void 0 : (_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : _err$response7.status) === 401) {\n    console.log(\"config->err->here\", err);\n    logout();\n  } else if ((err === null || err === void 0 ? void 0 : (_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : _err$response8.status) === 500) {\n    Sentry.captureException(err, {\n      tags: {\n        page: \"500\",\n        occuredAt: \"file: axios.js ~ line 144 ~ nodeAxiosWithCredentialsCentralServer interceptors\"\n      }\n    });\n  }\n\n  throw err;\n});\nconst initialState = {\n  user: {\n    isLoggedIn: false\n  }\n};\n\nconst logout = () => {\n  global.localStorage.setItem(\"user\", JSON.stringify(initialState));\n  Cookies.remove(CookieName);\n};","map":{"version":3,"sources":["C:/Users/mukki/Documents/workspace/chaingames/battleBoard/src/config/axios.js"],"names":["BaseApiURLBS","BaseApiURLCS","CoinGeckoAPIURL","CookieName","ax","Cookies","nodeAxios","create","baseURL","headers","common","timeout","axiosCoinGecko","nodeAxiosWithCredentials","withCredentials","nodeAxiosWithCredentialsCentralServer","nodeAxiosForXbox","Accept","Host","verify","nodeAxiosForXboxUserName","formDataAxiosService","formDataAxiosServiceCentralServer","interceptors","response","use","res","err","status","console","log","logout","Sentry","captureException","tags","page","occuredAt","initialState","user","isLoggedIn","global","localStorage","setItem","JSON","stringify","remove"],"mappings":"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","sourcesContent":["import { BaseApiURLBS, BaseApiURLCS, CoinGeckoAPIURL, CookieName } from \"./constants\";\r\nimport ax from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport const nodeAxios = ax.create({\r\n  baseURL: `${BaseApiURLBS}`,\r\n  headers: {\r\n    common: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  },\r\n  timeout: 50000,\r\n});\r\n\r\nexport const axiosCoinGecko = ax.create({\r\n  baseURL: `${CoinGeckoAPIURL}`,\r\n  timeout: 50000,\r\n});\r\n\r\nexport const nodeAxiosWithCredentials = ax.create({\r\n  baseURL: `${BaseApiURLBS}`,\r\n  headers: {\r\n    common: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  },\r\n  withCredentials: true,\r\n  timeout: 50000,\r\n});\r\n\r\nexport const nodeAxiosWithCredentialsCentralServer = ax.create({\r\n  baseURL: `${BaseApiURLCS}`,\r\n  headers: {\r\n    common: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  },\r\n  withCredentials: true,\r\n  timeout: 50000,\r\n});\r\n\r\nexport const nodeAxiosForXbox = ax.create({\r\n  baseURL: `${BaseApiURLBS}`,\r\n  headers: {\r\n    common: {\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      Accept: \"application/json\",\r\n      Host: \"login.live.com\",\r\n      verify: \"False\",\r\n      \"Access-Control-Allow-Origin\": '*'\r\n    },\r\n  },\r\n});\r\n\r\nexport const nodeAxiosForXboxUserName = ax.create({\r\n  baseURL: `${BaseApiURLBS}`,\r\n  timeout: 50000,\r\n});\r\n\r\nexport const formDataAxiosService = ax.create({\r\n  baseURL: `${BaseApiURLBS}`,\r\n  headers: {\r\n    'content-type': 'multipart/form-data'\r\n  },\r\n  withCredentials: true,\r\n  timeout: 50000,\r\n});\r\n\r\nexport const formDataAxiosServiceCentralServer = ax.create({\r\n  baseURL: `${BaseApiURLCS}`,\r\n  headers: {\r\n    'content-type': 'multipart/form-data'\r\n  },\r\n  withCredentials: true,\r\n  timeout: 50000,\r\n});\r\n\r\n//In case we get 401 from server logout the user and redirect to login middleware\r\nnodeAxiosWithCredentials.interceptors.response.use(\r\n  res => res,\r\n  err => {\r\n    if (err?.response?.status === 401) {\r\n      console.log(\"config->err->here\", err)\r\n      logout();\r\n    }\r\n    else if (err?.response?.status === 500) {\r\n      Sentry.captureException(err, {\r\n        tags: {\r\n            page: \"500\",\r\n            occuredAt: \"file: axios.js ~ line 87 ~ nodeAxiosWithCredentials interceptors\",\r\n        },\r\n      });\r\n    }\r\n    throw err;\r\n  }\r\n);\r\n\r\nformDataAxiosService.interceptors.response.use(\r\n  res => res,\r\n  err => {\r\n    if (err?.response?.status === 401) {\r\n      console.log(\"config->err->here\", err)\r\n      logout();\r\n    }\r\n    else if (err?.response?.status === 500) {\r\n      Sentry.captureException(err, {\r\n        tags: {\r\n            page: \"500\",\r\n            occuredAt: \"file: axios.js ~ line 107 ~ formDataAxiosService interceptors\",\r\n        },\r\n      });\r\n    }\r\n    throw err;\r\n  }\r\n);\r\n\r\nformDataAxiosServiceCentralServer.interceptors.response.use(\r\n  res => res,\r\n  err => {\r\n    if (err?.response?.status === 401) {\r\n      console.log(\"config->err->here\", err)\r\n      logout();\r\n    }\r\n    else if (err?.response?.status === 500) {\r\n      Sentry.captureException(err, {\r\n        tags: {\r\n            page: \"500\",\r\n            occuredAt: \"file: axios.js ~ line 126 ~ formDataAxiosServiceCentralServer interceptors\",\r\n        },\r\n      });\r\n    }\r\n    throw err;\r\n  }\r\n);\r\n\r\nnodeAxiosWithCredentialsCentralServer.interceptors.response.use(\r\n  res => res,\r\n  err => {\r\n    if (err?.response?.status === 401) {\r\n      console.log(\"config->err->here\", err)\r\n      logout();\r\n    }\r\n    else if (err?.response?.status === 500) {\r\n      Sentry.captureException(err, {\r\n        tags: {\r\n            page: \"500\",\r\n            occuredAt: \"file: axios.js ~ line 144 ~ nodeAxiosWithCredentialsCentralServer interceptors\",\r\n        },\r\n      });\r\n    }\r\n    throw err;\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  user: {\r\n    isLoggedIn: false,\r\n  },\r\n};\r\n\r\nconst logout = () =>{\r\n  global.localStorage.setItem(\"user\", JSON.stringify(initialState));\r\n  Cookies.remove(CookieName)\r\n}"]},"metadata":{},"sourceType":"module"}