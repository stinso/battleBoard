{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mukki\\\\Documents\\\\workspace\\\\chaingames\\\\battleBoard\\\\client\\\\src\\\\layouts\\\\MainLayout\\\\NavBar\\\\index.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-use-before-define */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation, matchPath } from 'react-router-dom';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport PropTypes from 'prop-types';\nimport { Avatar, Box, Button, Card, CardContent, Divider, Drawer, Hidden, Link, List, ListSubheader, Paper, Typography, makeStyles } from '@material-ui/core';\nimport { User as UserIcon, Calendar as CalendarIcon, BarChart as BarChartIcon, Mail as MailIcon, PieChart as PieChartIcon, Tablet as CalculatorIcon, List as ListIcon, LifeBuoy, Loader } from 'react-feather';\nimport { BiRocket } from 'react-icons/bi';\nimport Logo from 'src/components/Logo';\nimport NavItem from './NavItem';\nimport NumberFormat from 'react-number-format';\nimport { useSelector } from 'src/store';\nimport { ethers } from 'ethers';\nimport { useWeb3React } from '@web3-react/core';\nimport { useStakingContract, useStakingDispatch } from 'src/context/StakingContract';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst sections = [{\n  subheader: 'Dashboard',\n  items: [{\n    title: 'Staking Stats',\n    icon: PieChartIcon,\n    href: '/app/staking-stats'\n  }, {\n    title: 'Personal Stats',\n    icon: BarChartIcon,\n    href: '/app/swap-stats'\n  }, {\n    title: 'Leaderboard',\n    icon: ListIcon,\n    href: '/app/leaderboard'\n  }, {\n    title: 'Claim Tokens',\n    icon: LifeBuoy,\n    href: '/app/claimtokens'\n  }]\n}, {\n  subheader: 'Applications',\n  items: [{\n    title: 'Launchpads',\n    icon: BiRocket,\n    href: '/app/launchpads'\n  }, {\n    title: 'Calculator',\n    icon: CalculatorIcon,\n    href: '/app/calculator'\n  }, {\n    title: 'Calendar',\n    icon: CalendarIcon,\n    href: '/app/calendar'\n  }, {\n    title: 'Mail',\n    href: '/app/mail',\n    icon: MailIcon\n  }]\n}, {\n  subheader: 'Software Services',\n  items: [{\n    title: 'Token Vesting',\n    icon: Loader,\n    href: '/app/tokenvesting'\n  }]\n}];\n\nfunction renderNavItems({\n  items,\n  pathname,\n  depth = 0\n}) {\n  return /*#__PURE__*/_jsxDEV(List, {\n    disablePadding: true,\n    children: items.reduce((acc, item) => reduceChildRoutes({\n      acc,\n      item,\n      pathname,\n      depth\n    }), [])\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n\nfunction reduceChildRoutes({\n  acc,\n  pathname,\n  item,\n  depth\n}) {\n  const key = item.title + depth;\n\n  if (item.items) {\n    const open = matchPath(pathname, {\n      path: item.href,\n      exact: false\n    });\n    acc.push( /*#__PURE__*/_jsxDEV(NavItem, {\n      depth: depth,\n      icon: item.icon,\n      info: item.info,\n      open: Boolean(open),\n      title: item.title,\n      children: renderNavItems({\n        depth: depth + 1,\n        pathname,\n        items: item.items\n      })\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this));\n  } else {\n    acc.push( /*#__PURE__*/_jsxDEV(NavItem, {\n      depth: depth,\n      href: item.href,\n      icon: item.icon,\n      info: item.info,\n      title: item.title\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this));\n  }\n\n  return acc;\n}\n\nconst useStyles = makeStyles(theme => ({\n  mobileDrawer: {\n    width: 256\n  },\n  desktopDrawer: {\n    width: 256,\n    top: 64,\n    height: 'calc(100% - 64px)'\n  },\n  avatar: {\n    cursor: 'pointer',\n    width: 64,\n    height: 64\n  },\n  card: {\n    backgroundColor: theme.palette.background.dark\n  }\n}));\n\nconst NavBar = ({\n  onMobileClose,\n  openMobile\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const location = useLocation();\n  const {\n    stakingContract,\n    state\n  } = useStakingContract();\n  const dispatch = useStakingDispatch();\n  const {\n    account,\n    connector,\n    library\n  } = useWeb3React();\n  const acc = useSelector(state => state.account);\n  const [rewards, setRewards] = useState(0);\n  const [stakedAmount, setStakedAmount] = useState(0);\n  const [isWithdrawInit, setIsWithdrawInit] = useState(false);\n  const getStakingInfo = useCallback(account => {\n    stakingContract.getStakeDeposit(account).then(res => {\n      if (res === false) {\n        setIsWithdrawInit(false);\n        setRewards(0);\n        setStakedAmount(0);\n        return;\n      }\n\n      const result = res.endDate.toString() !== '0';\n      const stakedAmount = ethers.utils.formatEther(res.initialDeposit);\n      const rewards = ethers.utils.formatEther(res.rewards);\n      setRewards(rewards);\n      setStakedAmount(stakedAmount);\n      setIsWithdrawInit(result);\n    }).catch(err => {\n      console.warn('error in checking is withdram init', err);\n    });\n  }, [dispatch, stakingContract]);\n  useEffect(() => {\n    if (account) {\n      getStakingInfo(account);\n    }\n  }, [account, library, stakingContract]);\n  useEffect(() => {\n    if (openMobile && onMobileClose) {\n      onMobileClose();\n    }\n  }, [location.pathname]);\n\n  const content = /*#__PURE__*/_jsxDEV(Box, {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    children: /*#__PURE__*/_jsxDEV(PerfectScrollbar, {\n      options: {\n        suppressScrollX: true\n      },\n      children: [/*#__PURE__*/_jsxDEV(Hidden, {\n        lgUp: true,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          p: 2,\n          display: \"flex\",\n          justifyContent: \"center\",\n          children: /*#__PURE__*/_jsxDEV(RouterLink, {\n            to: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 2,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            className: classes.cityAvatar,\n            children: /*#__PURE__*/_jsxDEV(UserIcon, {\n              size: \"22\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 2,\n          textAlign: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            component: RouterLink,\n            to: \"#\",\n            variant: \"h5\",\n            color: \"textPrimary\",\n            underline: \"none\",\n            children: acc.loggedIn ? `${acc.address.substr(0, 6)}...${acc.address.substr(acc.address.length - 4, acc.address.length)}` : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 2,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 10,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.card,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                className: classes.overview,\n                textAlign: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  display: \"inline\",\n                  variant: \"body1\",\n                  color: \"textSecondary\",\n                  children: \"Your Stake: \\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  display: \"inline\",\n                  variant: \"body1\",\n                  color: \"secondary\",\n                  children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                    value: acc.loggedIn ? Math.round(stakedAmount * 10) / 10 : 0,\n                    displayType: 'text',\n                    thousandSeparator: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                justifyContent: \"center\",\n                display: \"flex\",\n                mt: 2,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  color: \"secondary\",\n                  variant: \"contained\",\n                  component: RouterLink,\n                  to: \"/app/stake\",\n                  fullWidth: true,\n                  children: acc.loggedIn && stakedAmount > 0 ? 'Stake more' : 'Stake'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), acc.loggedIn && stakedAmount > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                justifyContent: \"center\",\n                display: \"flex\",\n                mt: 2,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  component: RouterLink,\n                  to: \"/app/withdrawStake\",\n                  fullWidth: true,\n                  children: \"Withdraw\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 2,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.paper,\n          elevation: 10,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.card,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                className: classes.overview,\n                textAlign: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  display: \"inline\",\n                  variant: \"body1\",\n                  color: \"textSecondary\",\n                  children: \"Your Rewards: \\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  display: \"inline\",\n                  variant: \"body1\",\n                  color: \"secondary\",\n                  children: /*#__PURE__*/_jsxDEV(NumberFormat, {\n                    value: acc.loggedIn ? Math.round(rewards * 10) / 10 : 0,\n                    displayType: 'text',\n                    thousandSeparator: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                mt: 2,\n                display: \"flex\",\n                justifyContent: \"center\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  color: \"secondary\",\n                  variant: \"contained\",\n                  component: RouterLink,\n                  to: \"/app/stakeRewards\",\n                  fullWidth: true,\n                  children: \"Stake\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), acc.loggedIn && stakedAmount > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                mt: 2,\n                display: \"flex\",\n                justifyContent: \"center\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  color: \"secondary\",\n                  variant: \"contained\",\n                  component: RouterLink,\n                  to: \"/app/withdrawRewards\",\n                  fullWidth: true,\n                  children: \"Withdraw\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 2,\n        children: sections.map(section => /*#__PURE__*/_jsxDEV(List, {\n          subheader: /*#__PURE__*/_jsxDEV(ListSubheader, {\n            disableGutters: true,\n            disableSticky: true,\n            children: section.subheader\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 17\n          }, this),\n          children: renderNavItems({\n            items: section.items,\n            pathname: location.pathname\n          })\n        }, section.subheader, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 2,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 10,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            p: 2,\n            borderRadius: \"borderRadius\",\n            bgcolor: \"background.dark\",\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"textPrimary\",\n              children: \"Need Help?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              variant: \"subtitle1\",\n              color: \"secondary\",\n              component: RouterLink,\n              to: \"/docs\",\n              children: \"Check our docs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Hidden, {\n      lgUp: true,\n      children: /*#__PURE__*/_jsxDEV(Drawer, {\n        anchor: \"left\",\n        classes: {\n          paper: classes.mobileDrawer\n        },\n        onClose: onMobileClose,\n        open: openMobile,\n        variant: \"temporary\",\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Hidden, {\n      mdDown: true,\n      children: /*#__PURE__*/_jsxDEV(Drawer, {\n        anchor: \"left\",\n        classes: {\n          paper: classes.desktopDrawer\n        },\n        open: true,\n        variant: \"persistent\",\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(NavBar, \"WDxn7sveyJ52dtPpBzAZtjqHc/c=\", false, function () {\n  return [useStyles, useLocation, useStakingContract, useStakingDispatch, useWeb3React, useSelector];\n});\n\n_c = NavBar;\nNavBar.propTypes = {\n  onMobileClose: PropTypes.func,\n  openMobile: PropTypes.bool\n};\nexport default NavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"sources":["C:/Users/mukki/Documents/workspace/chaingames/battleBoard/client/src/layouts/MainLayout/NavBar/index.js"],"names":["React","useState","useEffect","useCallback","useLocation","matchPath","Link","RouterLink","PerfectScrollbar","PropTypes","Avatar","Box","Button","Card","CardContent","Divider","Drawer","Hidden","List","ListSubheader","Paper","Typography","makeStyles","User","UserIcon","Calendar","CalendarIcon","BarChart","BarChartIcon","Mail","MailIcon","PieChart","PieChartIcon","Tablet","CalculatorIcon","ListIcon","LifeBuoy","Loader","BiRocket","Logo","NavItem","NumberFormat","useSelector","ethers","useWeb3React","useStakingContract","useStakingDispatch","sections","subheader","items","title","icon","href","renderNavItems","pathname","depth","reduce","acc","item","reduceChildRoutes","key","open","path","exact","push","info","Boolean","useStyles","theme","mobileDrawer","width","desktopDrawer","top","height","avatar","cursor","card","backgroundColor","palette","background","dark","NavBar","onMobileClose","openMobile","classes","location","stakingContract","state","dispatch","account","connector","library","rewards","setRewards","stakedAmount","setStakedAmount","isWithdrawInit","setIsWithdrawInit","getStakingInfo","getStakeDeposit","then","res","result","endDate","toString","utils","formatEther","initialDeposit","catch","err","console","warn","content","suppressScrollX","cityAvatar","loggedIn","address","substr","length","overview","Math","round","paper","map","section","propTypes","func","bool"],"mappings":"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","sourcesContent":["/* eslint-disable no-use-before-define */\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { useLocation, matchPath } from 'react-router-dom';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Divider,\r\n  Drawer,\r\n  Hidden,\r\n  Link,\r\n  List,\r\n  ListSubheader,\r\n  Paper,\r\n  Typography,\r\n  makeStyles\r\n} from '@material-ui/core';\r\nimport {\r\n  User as UserIcon,\r\n  Calendar as CalendarIcon,\r\n  BarChart as BarChartIcon,\r\n  Mail as MailIcon,\r\n  PieChart as PieChartIcon,\r\n  Tablet as CalculatorIcon,\r\n  List as ListIcon,\r\n  LifeBuoy,\r\n  Loader\r\n} from 'react-feather';\r\nimport { BiRocket } from 'react-icons/bi';\r\nimport Logo from 'src/components/Logo';\r\nimport NavItem  from './NavItem';\r\nimport NumberFormat from 'react-number-format';\r\nimport { useSelector } from 'src/store';\r\n\r\nimport { ethers } from 'ethers';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { useStakingContract, useStakingDispatch } from 'src/context/StakingContract';\r\n\r\n\r\nconst sections = [\r\n  {\r\n    subheader: 'Dashboard',\r\n    items: [\r\n      {\r\n        title: 'Staking Stats',\r\n        icon: PieChartIcon,\r\n        href: '/app/staking-stats'\r\n      },\r\n      {\r\n        title: 'Personal Stats',\r\n        icon: BarChartIcon,\r\n        href: '/app/swap-stats'\r\n      },\r\n      {\r\n        title: 'Leaderboard',\r\n        icon: ListIcon,\r\n        href: '/app/leaderboard'\r\n      },\r\n      {\r\n        title: 'Claim Tokens',\r\n        icon: LifeBuoy,\r\n        href: '/app/claimtokens'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    subheader: 'Applications',\r\n    items: [ \r\n      {\r\n        title: 'Launchpads',\r\n        icon: BiRocket,\r\n        href: '/app/launchpads'\r\n      },\r\n      {\r\n        title: 'Calculator',\r\n        icon: CalculatorIcon,\r\n        href: '/app/calculator'\r\n      },\r\n      {\r\n        title: 'Calendar',\r\n        icon: CalendarIcon,\r\n        href: '/app/calendar'\r\n      },\r\n      {\r\n        title: 'Mail',\r\n        href: '/app/mail',\r\n        icon: MailIcon\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    subheader: 'Software Services',\r\n    items: [\r\n      {\r\n        title: 'Token Vesting',\r\n        icon: Loader,\r\n        href: '/app/tokenvesting'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nfunction renderNavItems({\r\n  items,\r\n  pathname,\r\n  depth = 0\r\n}) {\r\n  return (\r\n    <List disablePadding>\r\n      {items.reduce(\r\n        (acc, item) => reduceChildRoutes({ acc, item, pathname, depth }),\r\n        []\r\n      )}\r\n    </List>\r\n  );\r\n}\r\n\r\nfunction reduceChildRoutes({\r\n  acc,\r\n  pathname,\r\n  item,\r\n  depth\r\n}) {\r\n  const key = item.title + depth;\r\n\r\n  if (item.items) {\r\n    const open = matchPath(pathname, {\r\n      path: item.href,\r\n      exact: false\r\n    });\r\n\r\n    acc.push(\r\n      <NavItem\r\n        depth={depth}\r\n        icon={item.icon}\r\n        info={item.info}\r\n        key={key}\r\n        open={Boolean(open)}\r\n        title={item.title}\r\n      >\r\n        {renderNavItems({\r\n          depth: depth + 1,\r\n          pathname,\r\n          items: item.items\r\n        })}\r\n      </NavItem>\r\n    );\r\n  } else {\r\n    acc.push(\r\n      <NavItem\r\n        depth={depth}\r\n        href={item.href}\r\n        icon={item.icon}\r\n        info={item.info}\r\n        key={key}\r\n        title={item.title}\r\n      />\r\n    );\r\n  }\r\n\r\n  return acc;\r\n}\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mobileDrawer: {\r\n    width: 256\r\n  },\r\n  desktopDrawer: {\r\n    width: 256,\r\n    top: 64,\r\n    height: 'calc(100% - 64px)'\r\n  },\r\n  avatar: {\r\n    cursor: 'pointer',\r\n    width: 64,\r\n    height: 64\r\n  },\r\n  card: {\r\n    backgroundColor: theme.palette.background.dark\r\n  }\r\n}));\r\n\r\nconst NavBar = ({ onMobileClose, openMobile }) => {\r\n  const classes = useStyles();\r\n  const location = useLocation();\r\n  const { stakingContract, state } = useStakingContract();\r\n  const dispatch = useStakingDispatch();\r\n  const { account, connector, library } = useWeb3React()\r\n  const acc = useSelector((state) => state.account);\r\n\r\n  const [rewards, setRewards] = useState(0) \r\n  const [stakedAmount, setStakedAmount] = useState(0) \r\n  const [isWithdrawInit, setIsWithdrawInit] = useState(false) \r\n\r\n\r\n  const getStakingInfo = useCallback((account) => {\r\n    stakingContract.getStakeDeposit(account)\r\n      .then(res =>{\r\n        if(res === false) {\r\n          setIsWithdrawInit(false)\r\n          setRewards(0)\r\n          setStakedAmount(0)\r\n          return\r\n        }\r\n        const result = res.endDate.toString() !== '0';\r\n        const stakedAmount = (ethers.utils.formatEther(res.initialDeposit))\r\n        const rewards = (ethers.utils.formatEther(res.rewards))\r\n\r\n        setRewards(rewards)\r\n        setStakedAmount(stakedAmount)\r\n        setIsWithdrawInit(result)\r\n      })\r\n      .catch(err => {\r\n        console.warn('error in checking is withdram init', err);\r\n      })\r\n  }, [dispatch, stakingContract]);\r\n\r\n\r\n  useEffect(()=> {\r\n    if(account) {\r\n      getStakingInfo(account)\r\n    }\r\n  }, [account, library, stakingContract]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (openMobile && onMobileClose) {\r\n      onMobileClose();\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  const content = (\r\n    <Box\r\n      height='100%'\r\n      display='flex'\r\n      flexDirection='column'\r\n    >\r\n      <PerfectScrollbar options={{ suppressScrollX: true }}>\r\n        <Hidden lgUp>\r\n          <Box\r\n            p={2}\r\n            display='flex'\r\n            justifyContent='center'\r\n          >\r\n            <RouterLink to='/'>\r\n              <Logo />\r\n            </RouterLink>\r\n          </Box>\r\n        </Hidden>\r\n        <Box p={2}>\r\n          <Box\r\n            display='flex'\r\n            justifyContent='center'\r\n          >\r\n          <Avatar className={classes.cityAvatar}>\r\n            <UserIcon size='22' />\r\n          </Avatar>\r\n\r\n          </Box>\r\n          <Box\r\n            mt={2}\r\n            textAlign='center'\r\n          >\r\n            <Link\r\n              component={RouterLink}\r\n              to='#'\r\n              variant='h5'\r\n              color='textPrimary'\r\n              underline='none'\r\n            >\r\n              {acc.loggedIn ? `${acc.address.substr(0,6)}...${acc.address.substr(acc.address.length-4, acc.address.length)}` : ''}\r\n            </Link>\r\n          </Box>\r\n        </Box>\r\n        <Divider />\r\n        <Box p={2}>\r\n          <Paper elevation={10} >\r\n            <Card\r\n              className={classes.card}\r\n            >\r\n              \r\n              <CardContent>\r\n                <Box className={classes.overview}\r\n                  textAlign=\"center\"\r\n                >\r\n                  <Typography\r\n                    display=\"inline\"\r\n                    variant=\"body1\"\r\n                    color=\"textSecondary\"\r\n                  >\r\n                    Your Stake: &nbsp; \r\n                  </Typography>\r\n                  <Typography\r\n                    display=\"inline\"\r\n                    variant=\"body1\"\r\n                    color=\"secondary\"\r\n                  >\r\n                    <NumberFormat \r\n                      value={acc.loggedIn \r\n                        ? Math.round(stakedAmount * 10) / 10\r\n                        : 0\r\n                      } \r\n                      displayType={'text'} \r\n                      thousandSeparator={true} \r\n                    />\r\n                  </Typography>\r\n                </Box>\r\n                <Divider />\r\n                <Box\r\n                  justifyContent='center'\r\n                  display='flex'\r\n                  mt={2}\r\n                >\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    component={RouterLink}\r\n                    to=\"/app/stake\"\r\n                    fullWidth\r\n                  >\r\n                    {acc.loggedIn && stakedAmount > 0 ? 'Stake more' : 'Stake'}\r\n                  </Button>\r\n                </Box>\r\n                {acc.loggedIn && stakedAmount > 0 &&\r\n                  <Box\r\n                    justifyContent='center'\r\n                    display='flex'\r\n                    mt={2}\r\n                  >\r\n                    <Button\r\n                      size=\"small\"\r\n                      variant=\"contained\"\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                      to=\"/app/withdrawStake\"\r\n                      fullWidth\r\n                    >\r\n                      Withdraw\r\n                    </Button>\r\n                  </Box>  \r\n                }             \r\n              </CardContent>\r\n            </Card>\r\n          </Paper>\r\n        </Box>\r\n        <Box p={2}>\r\n          <Paper className={classes.paper}\r\n            elevation={10}\r\n          >\r\n            <Card\r\n              className={classes.card}\r\n            >\r\n              \r\n              <CardContent>\r\n                <Box className={classes.overview}\r\n                  textAlign=\"center\"\r\n                >\r\n                <Typography\r\n                  display=\"inline\"\r\n                  variant=\"body1\"\r\n                  color=\"textSecondary\"\r\n                >\r\n                  Your Rewards: &nbsp; \r\n                </Typography>\r\n                <Typography\r\n                  display=\"inline\"\r\n                  variant=\"body1\"\r\n                  color=\"secondary\"\r\n                >\r\n                  <NumberFormat \r\n                    value={acc.loggedIn \r\n                      ? Math.round(rewards * 10) / 10\r\n                      : 0\r\n                    } \r\n                    displayType={'text'} \r\n                    thousandSeparator={true} \r\n                  />\r\n                </Typography>\r\n                </Box>\r\n                <Divider />\r\n                <Box\r\n                  mt={2}\r\n                  display=\"flex\"\r\n                  justifyContent='center'\r\n                >\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    component={RouterLink}\r\n                    to=\"/app/stakeRewards\"\r\n                    fullWidth\r\n                  >\r\n                    Stake\r\n                  </Button>\r\n                </Box>\r\n                {acc.loggedIn && stakedAmount > 0 &&\r\n                  <Box\r\n                    mt={2}\r\n                    display=\"flex\"\r\n                    justifyContent='center'\r\n                  >\r\n                    <Button\r\n                      size=\"small\"\r\n                      color=\"secondary\"\r\n                      variant=\"contained\"\r\n                      component={RouterLink}\r\n                      to=\"/app/withdrawRewards\"\r\n                      fullWidth\r\n                    >\r\n                      Withdraw\r\n                    </Button>\r\n                  </Box>\r\n                }\r\n              </CardContent>\r\n            </Card>\r\n          </Paper>\r\n        </Box>\r\n\r\n        <Divider />\r\n        <Box p={2}>\r\n          {sections.map(section => (\r\n            <List\r\n              key={section.subheader}\r\n              subheader={(\r\n                <ListSubheader\r\n                  disableGutters\r\n                  disableSticky\r\n                >\r\n                  {section.subheader}\r\n                </ListSubheader>\r\n              )}\r\n            >\r\n              {renderNavItems({\r\n                items: section.items,\r\n                pathname: location.pathname\r\n              })}\r\n            </List>\r\n          ))}\r\n        </Box>\r\n\r\n\r\n        <Divider />\r\n        \r\n        <Box p={2}>\r\n        <Paper elevation={10} >\r\n          <Box\r\n            p={2}\r\n            borderRadius=\"borderRadius\"\r\n            bgcolor=\"background.dark\"\r\n          >\r\n            <Typography\r\n              variant=\"h6\"\r\n              color=\"textPrimary\"\r\n            >\r\n              Need Help?\r\n            </Typography>\r\n            <Link\r\n              variant=\"subtitle1\"\r\n              color=\"secondary\"\r\n              component={RouterLink}\r\n              to=\"/docs\"\r\n            >\r\n              Check our docs\r\n            </Link>\r\n          </Box>\r\n          </Paper>\r\n        </Box>\r\n      </PerfectScrollbar>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Hidden lgUp>\r\n        <Drawer\r\n          anchor=\"left\"\r\n          classes={{ paper: classes.mobileDrawer }}\r\n          onClose={onMobileClose}\r\n          open={openMobile}\r\n          variant=\"temporary\"\r\n        >\r\n          {content}\r\n        </Drawer>\r\n      </Hidden>\r\n      <Hidden mdDown>\r\n        <Drawer\r\n          anchor=\"left\"\r\n          classes={{ paper: classes.desktopDrawer }}\r\n          open\r\n          variant=\"persistent\"\r\n        >\r\n          {content}\r\n        </Drawer>\r\n      </Hidden>\r\n    </>\r\n  );\r\n};\r\n\r\nNavBar.propTypes = {\r\n  onMobileClose: PropTypes.func,\r\n  openMobile: PropTypes.bool\r\n};\r\n\r\nexport default NavBar;\r\n"]},"metadata":{},"sourceType":"module"}